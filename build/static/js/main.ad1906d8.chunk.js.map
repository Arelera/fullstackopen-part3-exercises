{"version":3,"sources":["components/AddPerson.js","components/Filter.js","services/personsService.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["AddPerson","handleNameChange","handleNumberChange","onAddClick","newName","newNumber","onChange","value","onClick","type","Filter","personsToShow","setPersonsToShow","e","target","toLowerCase","baseUrl","axios","get","then","res","data","newPerson","post","person","console","log","put","id","delete","Person","persons","setPersons","key","name","number","personsService","filter","catch","err","Persons","includes","map","Notification","msg","style","display","border","background","padding","margin","App","useState","setNewName","setNewNumber","notification","setNotification","useEffect","giveNotification","setTimeout","color","preventDefault","every","concat","window","confirm","updatedPerson","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ad1906d8.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst AddPerson = ({\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  onAddClick,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <form>\r\n      <h2>Add a new</h2>\r\n      <div>\r\n        name: <input onChange={handleNameChange} value={newName} />\r\n        <br />\r\n        number: <input onChange={handleNumberChange} value={newNumber} />\r\n      </div>\r\n\r\n      <button onClick={onAddClick} type=\"submit\">\r\n        add\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddPerson;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ personsToShow, setPersonsToShow }) => {\r\n  return (\r\n    <div>\r\n      filter shown with{' '}\r\n      <input\r\n        value={personsToShow}\r\n        onChange={(e) => setPersonsToShow(e.target.value.toLowerCase())}\r\n      />{' '}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () =>\r\n  axios.get(baseUrl).then((res) => {\r\n    return res.data;\r\n  });\r\n\r\nconst create = (newPerson) => axios.post(baseUrl, newPerson);\r\n\r\nconst update = (person) => {\r\n  console.log('person in service: ', person);\r\n  return axios.put(`${baseUrl}/${person.id}`, person);\r\n};\r\n\r\nconst remove = (id) => {\r\n  console.log('deleting person with id ', id);\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove,\r\n};\r\n","import React from 'react';\r\nimport personsService from '../services/personsService';\r\n\r\nconst Person = ({ person, persons, setPersons }) => {\r\n  const handleDeleteClick = (id) => {\r\n    personsService\r\n      .remove(id)\r\n      .then((res) => {\r\n        setPersons(\r\n          persons.filter((person) => (person.id !== id ? person : null))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <p key={person.name}>\r\n        {person.name} {person.number}{' '}\r\n        <button onClick={() => handleDeleteClick(person.id)}>delete</button>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, personsToShow, setPersons }) => {\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      {persons\r\n        .filter((person) => {\r\n          return person.name.toLowerCase().includes(personsToShow);\r\n        })\r\n        .map((person) => (\r\n          <Person\r\n            key={person.name}\r\n            person={person}\r\n            persons={persons}\r\n            setPersons={setPersons}\r\n          />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ msg }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'inline-block',\r\n        border: '2px solid #18b566',\r\n        background: 'ebebeb',\r\n        padding: '0 1rem',\r\n        margin: '.5rem 0',\r\n      }}\r\n    >\r\n      <h3>{msg}</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport AddPerson from './components/AddPerson';\r\nimport Filter from './components/Filter';\r\nimport Persons from './components/Persons';\r\nimport Notification from './components/Notification';\r\nimport personsService from './services/personsService';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [personsToShow, setPersonsToShow] = useState('');\r\n  const [notification, setNotification] = useState('');\r\n\r\n  useEffect(() => {\r\n    personsService.getAll().then((res) => {\r\n      setPersons(res);\r\n    });\r\n  }, []);\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n\r\n  const giveNotification = (msg) => {\r\n    setNotification(msg);\r\n    setTimeout(() => {\r\n      setNotification('');\r\n    }, 4000);\r\n  };\r\n\r\n  const onAddClick = (e) => {\r\n    e.preventDefault();\r\n    const newPerson = { name: newName, number: newNumber };\r\n\r\n    let isUniqueName = persons.every((person) => person.name !== newName);\r\n\r\n    if (isUniqueName) {\r\n      personsService.create(newPerson).then((res) => {\r\n        // res is empty for some reason,\r\n        // so i cant use it for adding to state\r\n        setPersons(persons.concat(newPerson));\r\n        giveNotification(`${newPerson.name} added`);\r\n\r\n        setNewName('');\r\n        setNewNumber('');\r\n      });\r\n    } else {\r\n      // if users wants to replace that users number\r\n      // update users number and change it in database and state\r\n      const shouldUpdate = window.confirm(\r\n        `${newName} is already added to the phonebook, replace the old number with the new one?`\r\n      );\r\n      if (shouldUpdate) {\r\n        let updatedPerson = persons.find((person) => person.name === newName);\r\n        updatedPerson = { ...updatedPerson, number: newNumber };\r\n        console.log('updatedPerson', updatedPerson);\r\n        personsService.update(updatedPerson);\r\n\r\n        setPersons(\r\n          persons.map((person) =>\r\n            person.id !== updatedPerson.id ? person : updatedPerson\r\n          )\r\n        );\r\n\r\n        giveNotification(`${updatedPerson.name} updated`);\r\n\r\n        setNewName('');\r\n        setNewNumber('');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'inline-block',\r\n        border: '2px solid #123',\r\n        padding: '1rem',\r\n        color: '#222',\r\n        background: '#fafafa',\r\n      }}\r\n    >\r\n      <h2>Phonebook</h2>\r\n      <Filter\r\n        personsToShow={personsToShow}\r\n        setPersonsToShow={setPersonsToShow}\r\n      />\r\n      {notification && <Notification msg={notification} />}\r\n      <AddPerson\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        onAddClick={onAddClick}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n      />\r\n      <Persons\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        personsToShow={personsToShow}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}