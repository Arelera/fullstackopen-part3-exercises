(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(14),c=t.n(r),u=(t(20),t(4)),l=t(2),i=function(e){var n=e.handleNameChange,t=e.handleNumberChange,a=e.onAddClick,r=e.newName,c=e.newNumber;return o.a.createElement("form",null,o.a.createElement("h2",null,"Add a new"),o.a.createElement("div",null,"name: ",o.a.createElement("input",{onChange:n,value:r}),o.a.createElement("br",null),"number: ",o.a.createElement("input",{onChange:t,value:c})),o.a.createElement("button",{onClick:a,type:"submit"},"add"))},s=function(e){var n=e.personsToShow,t=e.setPersonsToShow;return o.a.createElement("div",null,"filter shown with"," ",o.a.createElement("input",{value:n,onChange:function(e){return t(e.target.value.toLowerCase())}})," ")},m=t(3),d=t.n(m),f="https://afternoon-tor-80403.herokuapp.com/api/persons",p=function(){return d.a.get(f).then((function(e){return e.data}))},b=function(e){return d.a.post(f,e)},h=function(e){return console.log("person in service: ",e),d.a.put("".concat(f,"/").concat(e.id),e)},v=function(e){return console.log("deleting person with id ",e),d.a.delete("".concat(f,"/").concat(e))},E=function(e){var n=e.person,t=e.persons,a=e.setPersons;return o.a.createElement("div",null,o.a.createElement("p",{key:n.name},n.name," ",n.number," ",o.a.createElement("button",{onClick:function(){return e=n.id,void v(e).then((function(n){a(t.filter((function(n){return n.id!==e?n:null})))})).catch((function(e){console.log(e)}));var e}},"delete")))},g=function(e){var n=e.persons,t=e.personsToShow,a=e.setPersons;return o.a.createElement("div",null,o.a.createElement("h2",null,"Numbers"),n.filter((function(e){return e.name.toLowerCase().includes(t)})).map((function(e){return o.a.createElement(E,{key:e.name,person:e,persons:n,setPersons:a})})))},w=function(e){var n=e.msg;return o.a.createElement("div",{style:{display:"inline-block",border:"2px solid #18b566",background:"ebebeb",padding:"0 1rem",margin:".5rem 0"}},o.a.createElement("h3",null,n))},k=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),m=Object(l.a)(c,2),d=m[0],f=m[1],v=Object(a.useState)(""),E=Object(l.a)(v,2),k=E[0],j=E[1],C=Object(a.useState)(""),O=Object(l.a)(C,2),S=O[0],y=O[1],N=Object(a.useState)(""),P=Object(l.a)(N,2),T=P[0],x=P[1];Object(a.useEffect)((function(){p().then((function(e){r(e)}))}),[]);var A=function(e){x(e),setTimeout((function(){x("")}),4e3)};return o.a.createElement("div",{style:{display:"inline-block",border:"2px solid #123",padding:"1rem",color:"#222",background:"#fafafa"}},o.a.createElement("h2",null,"Phonebook"),o.a.createElement(s,{personsToShow:S,setPersonsToShow:y}),T&&o.a.createElement(w,{msg:T}),o.a.createElement(i,{handleNameChange:function(e){f(e.target.value)},handleNumberChange:function(e){j(e.target.value)},onAddClick:function(e){e.preventDefault();var n={name:d,number:k};if(t.every((function(e){return e.name!==d})))b(n).then((function(e){r(t.concat(n)),A("".concat(n.name," added")),f(""),j("")}));else if(window.confirm("".concat(d," is already added to the phonebook, replace the old number with the new one?"))){var a=t.find((function(e){return e.name===d}));a=Object(u.a)(Object(u.a)({},a),{},{number:k}),console.log("updatedPerson",a),h(a),r(t.map((function(e){return e.id!==a.id?e:a}))),A("".concat(a.name," updated")),f(""),j("")}},newName:d,newNumber:k}),o.a.createElement(g,{persons:t,setPersons:r,personsToShow:S}))};c.a.render(o.a.createElement(k,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.79b4d37f.chunk.js.map