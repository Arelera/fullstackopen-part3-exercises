{"version":3,"sources":["components/AddPerson.js","components/Filter.js","services/personsService.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["AddPerson","handleNameChange","handleNumberChange","onAddClick","newName","newNumber","onChange","value","onClick","type","Filter","personsToShow","setPersonsToShow","e","target","toLowerCase","baseUrl","axios","get","then","res","data","newPerson","post","person","put","id","delete","Person","persons","setPersons","key","name","number","personsService","filter","catch","err","console","log","Persons","includes","map","Notification","msg","style","width","border","background","padding","margin","App","useState","setNewName","setNewNumber","notification","setNotification","useEffect","giveNotification","setTimeout","display","color","preventDefault","every","concat","window","confirm","updatedPerson","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7a91148b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst AddPerson = ({\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  onAddClick,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <form>\r\n      <h2>Add a new</h2>\r\n      <div>\r\n        name: <input onChange={handleNameChange} value={newName} />\r\n        <br />\r\n        number: <input onChange={handleNumberChange} value={newNumber} />\r\n      </div>\r\n\r\n      <button onClick={onAddClick} type=\"submit\">\r\n        add\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddPerson;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ personsToShow, setPersonsToShow }) => {\r\n  return (\r\n    <div>\r\n      filter shown with{' '}\r\n      <input\r\n        value={personsToShow}\r\n        onChange={(e) => setPersonsToShow(e.target.value.toLowerCase())}\r\n      />{' '}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () =>\r\n  axios.get(baseUrl).then((res) => {\r\n    return res.data;\r\n  });\r\n\r\nconst create = (newPerson) => axios.post(baseUrl, newPerson);\r\n\r\nconst update = (person) => axios.put(`${baseUrl}/${person.id}`, person);\r\n\r\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`);\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove,\r\n};\r\n","import React from 'react';\r\nimport personsService from '../services/personsService';\r\n\r\nconst Person = ({ person, persons, setPersons }) => {\r\n  const handleDeleteClick = (id) => {\r\n    personsService\r\n      .remove(id)\r\n      .then((res) => {\r\n        setPersons(\r\n          persons.filter((person) => (person.id !== id ? person : null))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <p key={person.name}>\r\n        {person.name} {person.number}{' '}\r\n        <button onClick={() => handleDeleteClick(person.id)}>delete</button>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, personsToShow, setPersons }) => {\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      {persons\r\n        .filter((person) => {\r\n          return person.name.toLowerCase().includes(personsToShow);\r\n        })\r\n        .map((person) => (\r\n          <Person\r\n            key={person.name}\r\n            person={person}\r\n            persons={persons}\r\n            setPersons={setPersons}\r\n          />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ msg }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        border: '2px solid #18b566',\r\n        background: 'ebebeb',\r\n        padding: '0 1rem',\r\n        margin: '.5rem 0',\r\n      }}\r\n    >\r\n      <h3>{msg}</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport AddPerson from './components/AddPerson';\r\nimport Filter from './components/Filter';\r\nimport Persons from './components/Persons';\r\nimport Notification from './components/Notification';\r\nimport personsService from './services/personsService';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [personsToShow, setPersonsToShow] = useState('');\r\n  const [notification, setNotification] = useState('');\r\n\r\n  useEffect(() => {\r\n    personsService.getAll().then((res) => {\r\n      setPersons(res);\r\n    });\r\n  }, []);\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n\r\n  const giveNotification = (msg) => {\r\n    setNotification(msg);\r\n    setTimeout(() => {\r\n      setNotification('');\r\n    }, 4000);\r\n  };\r\n\r\n  const onAddClick = (e) => {\r\n    e.preventDefault();\r\n    const newPerson = { name: newName, number: newNumber };\r\n\r\n    let isUniqueName = persons.every((person) => person.name !== newName);\r\n\r\n    if (isUniqueName) {\r\n      personsService.create(newPerson).then((res) => {\r\n        // res is empty for some reason,\r\n        // so i cant use it for adding to state\r\n        setPersons(persons.concat(newPerson));\r\n        giveNotification(`${newPerson.name} added`);\r\n\r\n        setNewName('');\r\n        setNewNumber('');\r\n      });\r\n    } else {\r\n      // if users wants to replace that users number\r\n      // update users number and change it in database and state\r\n      const shouldUpdate = window.confirm(\r\n        `${newName} is already added to the phonebook, replace the old number with the new one?`\r\n      );\r\n      if (shouldUpdate) {\r\n        let updatedPerson = persons.find((person) => person.name === newName);\r\n        updatedPerson = { ...updatedPerson, number: newNumber };\r\n        personsService.update(updatedPerson);\r\n\r\n        setPersons(\r\n          persons.map((person) =>\r\n            person.id !== updatedPerson.id ? person : updatedPerson\r\n          )\r\n        );\r\n\r\n        giveNotification(`${updatedPerson.name} updated`);\r\n\r\n        setNewName('');\r\n        setNewNumber('');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'inline-block',\r\n        border: '2px solid #123',\r\n        padding: '1rem',\r\n        color: '#222',\r\n        background: '#fafafa',\r\n      }}\r\n    >\r\n      <h2>Phonebook</h2>\r\n      <Filter\r\n        personsToShow={personsToShow}\r\n        setPersonsToShow={setPersonsToShow}\r\n      />\r\n      {notification && <Notification msg={notification} />}\r\n      <AddPerson\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        onAddClick={onAddClick}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n      />\r\n      <Persons\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        personsToShow={personsToShow}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}